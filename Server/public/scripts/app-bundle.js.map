{"version":3,"sources":["src/app.js","src/auth-config.js","src/environment.js","src/main.js","src/modules/home.js","src/modules/list.js","src/resources/index.js","src/resources/data/data-services.js","src/resources/data/todos.js","src/resources/data/users.js","src/resources/elements/flatpickr.js","src/resources/value-converters/completed.js","src/resources/value-converters/date-format.js"],"names":["App","configureRouter","config","router","addPipelineStep","map","route","moduleId","name","auth","authConfig","baseUrl","loginUrl","tokenName","authHeader","authToken","logoutRedirect","debug","testing","configure","window","regeneratorRuntime","aurelia","use","standardConfiguration","plugin","baseConfig","feature","developmentLogging","start","then","setRoot","Home","users","loginError","message","showLogin","login","email","password","sessionStorage","setItem","JSON","stringify","response","user","navigate","catch","console","log","error","showRegister","firstName","lastName","registerError","save","serverResponse","goback","List","todos","parse","getItem","title","editTodoForm","showList","showCompleted","priorities","createTodo","todoObj","todo","description","dateDue","Date","_id","priority","saveTodo","alert","todoId","filesToUpload","length","uploadFile","getUserTodos","activate","editTodo","deleteTodo","completeTodo","completed","toggleShowCompleted","back","changeFiles","Array","push","files","removeFile","index","splice","logout","removeItem","globalResources","DataServices","http","httpClient","BASE_URL","withBaseUrl","withDefaults","credentials","headers","withInterceptor","request","localStorage","append","method","url","status","get","fetch","json","data","post","content","body","object","put","delete","uploadFiles","ToDos","TODO_SERVICE","todosArray","userId","formData","FormData","forEach","item","id","i","Users","USER_SERVICE","FlatPickerCustomElement","Element","defaultBindingMode","twoWay","element","bind","defaultConfig","altInput","altFormat","wrap","_config","Object","assign","onChange","onMonthChange","onYearChange","attached","flatpickr","querySelector","selectedDates","dateStr","instance","value","valueChanged","newDate","undefined","setDate","CompletedValueConverter","toView","array","filter","DateFormatValueConverter","format"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {AuthorizeStep} from 'aurelia-auth';\n\nexport class App {\n  configureRouter(config, router) {\n    this.router = router;\n    config.addPipelineStep('authorize', AuthorizeStep); \n    config.map([\n      { \n\troute: ['', 'home'],\n\t moduleId: './modules/home',\n\t name: 'Home' \n      },\n      {\n\t route: 'list',\n\t moduleId: './modules/list',\n   name: 'List',\n   auth: true \n     }\n    ]);\n  }\n}\n","var authConfig = {\r\n    baseUrl: \"http://localhost:5000/api\",\r\n    loginUrl: '/users/login',\r\n    tokenName: 'token',\r\n    authHeader: 'Authorization',\r\n    authToken: '',\r\n    logoutRedirect: '#/home'\r\n  }\r\n  \r\n  export default authConfig;\r\n  ","export default {\n  debug: true,\n  testing: true\n};\n","\nimport regeneratorRuntime from 'regenerator-runtime';\nwindow.regeneratorRuntime = regeneratorRuntime;\n\nimport environment from './environment';\nimport config from './auth-config';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-auth', (baseConfig)=>{\n      baseConfig.configure(config);\n })\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport { Users } from '../resources/data/users';\r\nimport {AuthService} from 'aurelia-auth';\r\n\r\n@inject(Router, Users, AuthService)\r\nexport class Home {\r\n  constructor(router, users, auth) {\r\n        this.router = router;\r\n        this.auth = auth;\r\n        this.loginError = '';    \r\n        this.users = users;        \r\n        this.message = 'Home';\r\n        this.showLogin = true;          \r\n  }\r\n\r\n  login() {\r\n    return this.auth.login(this.email, this.password)\r\n      .then(response => {\r\n\tsessionStorage.setItem(\"user\", JSON.stringify(response.user));\r\n\tthis.loginError = \"\";\r\n\tthis.router.navigate('list');\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        this.loginError = \"Invalid credentials.\";\r\n      });\r\n  };\r\n\r\n  showRegister(){\r\n    this.user = {\r\n       firstName: \"\",\r\n       lastName: \"\",\r\n       email: \"\",\r\n       password: \"\"\r\n  }\r\n    this.registerError = \"\";\r\n    this.showLogin = false;\r\n  }\r\n    \r\n  async save() {\r\n          let serverResponse = await this.users.save(this.user);\r\n          if (!serverResponse.error) {\r\n            this.showLogin = true;\r\n          } else {\r\n            this.registerError = \"There was a problem registering the user.\"\r\n         }\r\n }\r\n    \r\n goback() {\r\n        this.showLogin = true;\r\n      }\r\n\r\n}\r\n\r\n\r\n","import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport {ToDos} from '../resources/data/todos';\r\nimport {AuthService} from 'aurelia-auth';\r\n\r\n\r\n@inject(Router, ToDos, AuthService)\r\nexport class List {\r\n  constructor(router, todos, auth) {\r\n    this.todos = todos;\r\n    this.router = router;\r\n    this.message = 'List';\r\n    this.auth = auth;\r\n    this.user = JSON.parse(sessionStorage.getItem('user'));\r\n    this.title = \"You have things ToDo!\";\r\n    this.editTodoForm = false;\r\n    this.showList = true;\r\n    this.showCompleted = false;\r\n    this.priorities = ['Low', 'Medium', 'High', 'Critical'];\r\n  }\r\n\r\n\r\n  createTodo() {\r\n    this.todoObj = {\r\n      todo: '',\r\n      description: '',\r\n      dateDue: new Date(),\r\n      user: this.user._id,\r\n      priority: this.priorities[0]\r\n    };\r\n    this.showList = false;\r\n  }\r\n\r\n  async saveTodo() {\r\n    if (this.todoObj) {\r\n      let response = await this.todos.save(this.todoObj);\r\n      if (response.error) {\r\n        alert('There was an error creating the ToDo');\r\n      } else {\r\n        var todoId = response._id;\r\n        if (this.filesToUpload && this.filesToUpload.length) {\r\n          await this.todos.uploadFile(this.filesToUpload, this.user._id, todoId);\r\n          this.filesToUpload = [];\r\n        }\r\n      }\r\n    }\r\n    this.showList = true;\r\n    this.todos.getUserTodos(this.user._id);\r\n  }\r\n  \r\n\r\n  async activate() {\r\n    await this.todos.getUserTodos(this.user._id);\r\n  }\r\n\r\n\r\n  editTodo(todo) {\r\n    this.todoObj = todo;\r\n    this.showList = false;\r\n  }\r\n\r\n\r\n  deleteTodo(todo) {\r\n    this.todos.deleteTodo(todo._id);\r\n  }\r\n\r\n\r\n  completeTodo(todo) {\r\n    todo.completed = !todo.completed;\r\n    this.todoObj = todo;\r\n    this.saveTodo();\r\n  }\r\n\r\n\r\n  toggleShowCompleted() {\r\n    this.showCompleted = !this.showCompleted;\r\n  }\r\n\r\n\r\n\r\n  back() {\r\n    this.showList = true;\r\n  }\r\n\r\n\r\n  changeFiles() {\r\n    this.filesToUpload = new Array();\r\n    this.filesToUpload.push(this.files[0]);\r\n  }\r\n\r\n\r\n  removeFile(index) {\r\n    this.filesToUpload.splice(index, 1);\r\n  }\r\n\r\n  \r\n  logout() {\r\n    sessionStorage.removeItem('user');\r\n    this.auth.logout();\r\n    this.router.navigate('home');\r\n  }\r\n\r\n}\r\n","export function configure(config) {\n    config.globalResources([\n      './value-converters/date-format',\n      './value-converters/completed',\n      './elements/flatpickr'\n    ]);\n  }","import { inject } from 'aurelia-framework';\r\nimport { HttpClient, json } from 'aurelia-fetch-client';\r\n\r\n@inject(HttpClient)\r\nexport class DataServices {\r\n\r\n  constructor(http) {\r\n    this.httpClient = http;\r\n    this.BASE_URL = \"http://localhost:5000/api/\";\r\n    this.httpClient.configure(config => {\r\n      config\r\n\t\t\t\t.withBaseUrl(this.BASE_URL)\r\n\t\t\t\t.withDefaults({\r\n  credentials: 'same-origin',\r\n  headers: {\r\n    'Accept': 'application/json',\r\n    'X-Requested-With': 'Fetch'\r\n  }\r\n\t\t\t\t})\r\n\t\t\t\t.withInterceptor({\r\n  request(request) {\r\n var authHeader = 'Bearer ' + localStorage.getItem('aurelia_token');\r\n    request.headers.append('Authorization', authHeader);\r\n\tconsole.log(`Requesting ${request.method} ${request.url}`);\r\n    return request;\r\n  },\r\n  response(response) {\r\n\tconsole.log(`Received ${response.status} ${response.url}`);\r\n    return response;\r\n  }\r\n\t\t\t\t});\r\n    });\r\n  }\r\n  get(url) {\r\n    return this.httpClient.fetch(url)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n  return data;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n  return error;\r\n\t\t\t});\r\n  }\r\n\r\n  post(content, url) {\r\n    return this.httpClient\r\n\t\t\t.fetch(url, {\r\n  method: 'post',\r\n  body: json(content)\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(object => {\r\n  return object;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n  return error;\r\n\t\t\t});\r\n  }\r\n\r\n  put(content, url) {\r\n    return this.httpClient\r\n\t\t\t.fetch(url, {\r\n  method: 'put',\r\n  body: json(content)\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(object => {\r\n  return object;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n  return error;\r\n\t\t\t});\r\n  }\r\n\r\n  delete(url) {\r\n    return this.httpClient\r\n\t\t\t.fetch(url, {\r\n  method: 'delete'\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(object => {\r\n  return object;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n  return error;\r\n\t\t\t});\r\n  }\r\n\r\n  uploadFiles(files, url) {\r\n    return this.httpClient\r\n.fetch(url, {\r\n  method: 'post',\r\n  body: files\r\n})\r\n.then(response => response.json())\r\n.then(object => {\r\n  return object;\r\n})\r\n.catch(error => {\r\n  return error;\r\n});\r\n  }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n@inject(DataServices)\r\nexport class ToDos {\r\n  constructor(data) {\r\n    this.data = data;\r\n    this.TODO_SERVICE = 'todos';\r\n    this.todosArray = [];\r\n  }\r\n\r\n  \r\n\r\n  async uploadFile(files, userId, todoId) {\r\n    let formData = new FormData();\r\n    files.forEach((item, index) => {\r\n      formData.append(\"file\" + index, item);\r\n    });\r\n    let response = await this.data.uploadFiles(formData, this.TODO_SERVICE + \"/upload/\" + userId + \"/\" + todoId);\r\n    return response;\r\n  }\r\n\r\n\r\n async save(todo) {\r\n    if (todo) {\r\n      if (!todo._id) {\r\n        let response = await this.data.post(todo, this.TODO_SERVICE);\r\n        if (!response.error) {\r\n          this.todosArray.push(response);\r\n        }\r\n        return response;\r\n      } else {\r\n        let response = await this.data.put(todo, this.TODO_SERVICE + \"/\" + todo._id);\r\n        if (!response.error) {\r\n        }\r\n        return response;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\nasync getUserTodos(id){\r\n  let response = await this.data.get(this.TODO_SERVICE + \"/user/\" + id);\r\n  if(!response.error && !response.message){\r\n    this.todosArray = response;\r\n  }\r\n}\r\n\r\n\r\nasync deleteTodo(id) {\r\n  let response = await this.data.delete(this.TODO_SERVICE + \"/\" + id);\r\n  if (!response.error) {\r\n    for (let i = 0; i < this.todosArray.length; i++) {\r\n      if (this.todosArray[i]._id === id) {\r\n        this.todosArray.splice(i, 1);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n\r\n@inject(DataServices)\r\nexport class Users {\r\nconstructor(data) {\r\n        this.data = data;\r\n        this.USER_SERVICE = 'users';\r\n    }\r\n\r\nasync save(user){\r\n    if(user){\r\n  let serverResponse = await this.data.post(user, this.USER_SERVICE);\r\n         return serverResponse;\r\n   }\r\n  }\r\n}","import {inject, bindable, bindingMode} from 'aurelia-framework';\r\nimport Flatpickr from 'flatpickr';\r\n\r\n@inject(Element)\r\nexport class FlatPickerCustomElement {\r\n@bindable({defaultBindingMode: bindingMode.twoWay}) value;\r\nconstructor(element) {\r\n  this.element = element;\r\n}\r\nbind() {\r\n     const defaultConfig = {\r\n          altInput: true,\r\n          altFormat: \"F j, Y\",\r\n          wrap: true\r\n};\r\n     this._config = Object.assign({}, defaultConfig);\r\n     this._config.onChange = this._config.onMonthChange = this._config.onYearChange = this.onChange.bind(this);\r\n}\r\nattached() {\r\n     this.flatpickr = new Flatpickr(this.element.querySelector('.aurelia-flatpickr'), this._config);\r\n     }\r\nonChange(selectedDates, dateStr, instance) {\r\n      this.value = selectedDates[0] \r\n}\r\nvalueChanged() {\r\n        if (!this.flatpickr) {\r\n            return;\r\n        }\r\n       if (this.value === this.flatpickr.selectedDates[0]){\r\n            return;\r\n        }\r\n       let newDate = this.value ? this.value : undefined;      \r\n       this.flatpickr.setDate(newDate);\r\n}\r\n}\r\n       \r\n","export class CompletedValueConverter {\r\n\r\n      toView(array, value) {\r\n        if (!value) {\r\n          return array.filter(item => {\r\n            return !item.completed;\r\n          });\r\n        } else {\r\n          return array;\r\n        }\r\n      }\r\n}","import moment from 'moment';\nexport class DateFormatValueConverter {\n  toView(value) {\n    if (value === undefined || value === null) {\n      return;\n    }\n\n    return moment(value).format('MMM Do YYYY');\n  }\n}\n"],"sourceRoot":".."}